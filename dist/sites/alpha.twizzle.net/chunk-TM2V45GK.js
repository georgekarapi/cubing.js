import{g as p}from"./chunk-WRADJ54S.js";var r=Math.sqrt.bind(Math),l=.01,c={c:{f:1,v:r(3),e:r(2)},t:{f:1,v:3,e:r(3)},o:{f:1,v:r(3),e:r(3/2)},d:{f:1,v:1.2584,e:1.1756},i:{f:1,v:1.2584,e:1.0705}},o=class extends HTMLElement{constructor(){super(...arguments);this.puzzleShapeSelect=this.querySelector("#puzzle-shape");this.sectionElems={f:this.querySelector("#f-cuts"),v:this.querySelector("#v-cuts"),e:this.querySelector("#e-cuts")}}connectedCallback(){for(let[n,i]of Object.entries(this.sectionElems))i.querySelector("button")?.addEventListener("click",()=>{this.addInput({cutType:n,distance:0}),this.dispatchPuzzleDescription()});this.puzzleShapeSelect.addEventListener("change",()=>{this.dispatchPuzzleDescription()})}get puzzleShape(){return this.puzzleShapeSelect.value}dispatchPuzzleDescription(){let n=[this.puzzleShape];for(let t of p)for(let e of Array.from(this.sectionElems[t].querySelectorAll("input")))n.push(t),n.push(this.clean(this.puzzleShape,t,+e.value).toString());let i=n.join(" ");this.dispatchEvent(new CustomEvent("puzzle-change",{detail:{descriptionString:i}}))}clean(n,i,t){let e=a[n+i],s=1e3;for(let u of e)Math.abs(u-t)<l&&Math.abs(u-t)<Math.abs(s-t)&&(s=u);return s!==1e3?s:t}inputMax(n){return Math.ceil(c[this.puzzleShape][n]*1e3-1)/1e3}addInput(n){let i=this.sectionElems[n.cutType],t=i.querySelector(".inputs-go-before-here"),e=document.createElement("input");i.insertBefore(e,t),e.type="range",e.min="0",e.max=this.inputMax(n.cutType).toString(),e.step="0.001",e.value=n.distance.toString(),e.addEventListener("input",()=>{this.dispatchPuzzleDescription()});let s=document.createElement("button");return i.insertBefore(s,t),s.textContent="\u274C",s.title="Remove this cut",s.addEventListener("click",()=>{e.remove(),s.remove(),this.dispatchPuzzleDescription()}),e}set puzzleDescription(n){let i={f:Array.from(this.sectionElems.f.querySelectorAll("input")),v:Array.from(this.sectionElems.v.querySelectorAll("input")),e:Array.from(this.sectionElems.e.querySelectorAll("input"))};this.puzzleShapeSelect.value=n.shape;for(let t of n.cuts){let e=i[t.cutType].splice(0,1)[0];e?(e.value=t.distance.toString(),e.max=this.inputMax(t.cutType).toString()):this.addInput(t)}for(let t of Object.values(i))for(let e of t)e.nextElementSibling.remove(),e.remove()}};customElements.define("twisty-puzzle-description-input",o);var a={te:[0,.346184634065199,.577350269189626,.866025403784437],if:[0,.0437137412199553,.10557280900008,.142911758634148,.2360679774998,.272067557625603,.333333333333342,.381966011250105,.366293370955617,.461896476441222,.527864045000399,.555741433418137,.56691527068179,.579145823610522,.618033988749886,.672742662378172,.745355992499953,.770969598759586],df:[0,.105585091198902,.236067977499772,.358548932642016,.447213595499989,.548137753621931,.618033988749895,.745604667392652],ie:[0,.118724773661763,.136293910356528,.157981582327811,.171657248314431,.185354472327642,.22052817941659,.225206963771198,.231801297246193,.255235116516706,.267616567329866,.279397861264267,.295869600077765,.302680679737852,.308301945313531,.311882116063692,.316521888676107,.324005476841408,.330792269124856,.346272894885839,.356822089773061,.36998951851398,.408881731069641,.427045750483211,.449404510502461,.472055041464925,.47872706916371,.485249039797452,.498843026314944,.515190145191102,.535233134659677,.548806039292405,.577350269189651,.618315762969106,.661584538249713,.692375929817155,.774596669241419,.7945579326996,.807144971628418,.826580114438045,.86602540378442,.888053374878366,.934172358962655,.944421022283983],iv:[0,.112482206141184,.187592474085081,.28138871112762,.562777422255239,.736685209782635,.794654472291766,.841075170785081,.910592997310029],tv:[0,.333333333333333,.600260416666341,.999999999500001],oe:[0,.244789502290502,.408248290463866,.461990350408647,.489897948556645,.524941918234976,.61237243569579,.689716350284335,.816496580927733,.852377778460046],of:[0,.199869791666992,.333333333333,.500000000000001],dv:[0,.0560874285802,.0990233221822336,.129641954773404,.187592474085079,.259374724922907,.41946952412161,.502579833588376,.531745191119057,.562791600335274,.592300472889519,.617533116288632,.678715947273417,.726155636708975,.794654472291768,.854832593500508,.937962370400783,1.09818547139511],de:[0,.128563971004914,.145308505600951,.170241453552642,.200811415886164,.20942149071417,.214828453505561,.224204126002919,.242180842668631,.254805789761306,.262865556059523,.27330868728898,.277514551425611,.284605286554775,.305018008054503,.313608385297821,.324919696232883,.345069250323634,.363271264002833,.37817914684952,.411888053250777,.411888053926078,.41188805460115,.429660084874436,.449027976579373,.476892790186451,.525731112119047,.544456729884171,.547822164005765,.551644835984693,.562428193028154,.575156248114469,.587785252292405,.606349458290752,.634037677529931,.64731718197753,.726542528005439,.777241350811778,.79854751226776,.817679191298903,.85065080835193,.886439952295727,.951056516295154,1.02604067771384],tf:[0],cv:[0,.192450089729875,.239059095459766,.577350269189594,.915641442663986,.962250448649376,1.15470053837926,1.34715062810913],ce:[0,.2357022604,.261021839065223,.353553390593277,.414205290678296,.471404520791054,.546902900980241,.707106781186553,.943269392613834],cf:[0,.333333333333333],ov:[0,.433012701892219,.577350269189626,.692933086751677,.8660254038]};export{o as a};
//# sourceMappingURL=chunk-TM2V45GK.js.map
