import{i as o,j as r}from"./chunk-K5RKCHW3.js";var a=class extends EventTarget{constructor(t){super();this.socket=new WebSocket(t),this.socket.onmessage=this.onMessage.bind(this)}onMessage(t){try{let e=JSON.parse(t.data);if(e.event==="move"){let s=e.data.latestMove;if(s.type!=="blockMove")throw new Error("Invalid move!");this.dispatchEvent(new CustomEvent("move",{detail:{move:new r(new o(s.family),s.amount)}}))}}catch(e){console.error("Could not handle message:",e)}}},i=class{async streams(){return(await(await fetch("https://api.twizzle.net/v0/streams")).json()).streams}connect(n){return new a(`wss://api.twizzle.net/v0/streams/${n}/socket`)}};export{i as a};
//# sourceMappingURL=chunk-E2NCNLSG.js.map
