{
  "version": 3,
  "sources": ["../../../../src/sites/experiments.cubing.net/cubing.js/robot/logs/normalize.ts"],
  "sourcesContent": ["import {\n  Alg,\n  AlgNode,\n  Commutator,\n  Conjugate,\n  Grouping,\n  LineComment,\n  Move,\n  Newline,\n  Pause,\n} from \"../../../../../cubing/alg\";\nimport {\n  functionFromTraversal,\n  TraversalUp,\n} from \"../../../../../cubing/alg/traversal\";\nimport { cube3x3x3 } from \"../../../../../cubing/puzzles\";\n\n// TODO: Test that inverses are bijections.\nclass RemoveAnnotations extends TraversalUp<Generator<AlgNode>> {\n  // TODO: Handle\n  public *traverseAlg(alg: Alg): Generator<AlgNode> {\n    yield* alg.childAlgNodes();\n  }\n\n  public *traverseGrouping(grouping: Grouping): Generator<AlgNode> {\n    yield grouping;\n  }\n\n  public *traverseMove(move: Move): Generator<AlgNode> {\n    yield move;\n  }\n\n  public *traverseCommutator(commutator: Commutator): Generator<AlgNode> {\n    yield commutator;\n  }\n\n  public *traverseConjugate(conjugate: Conjugate): Generator<AlgNode> {\n    {\n      yield conjugate;\n    }\n  }\n\n  public *traversePause(_pause: Pause): Generator<AlgNode> {\n    // Nothing!\n  }\n\n  public *traverseNewline(_newline: Newline): Generator<AlgNode> {\n    // Nothing!\n  }\n\n  public *traverseLineComment(_comment: LineComment): Generator<AlgNode> {\n    // Nothing!\n  }\n}\n\nconst removeAnnotations = functionFromTraversal(RemoveAnnotations);\n\nexport function normalize(alg: Alg): Alg {\n  return new Alg(removeAnnotations(alg)).experimentalSimplify({\n    cancel: {\n      puzzleSpecificModWrap: \"canonical-centered\",\n    },\n    puzzleSpecificSimplifyOptions: cube3x3x3.puzzleSpecificSimplifyOptions,\n  });\n}\n"],
  "mappings": "8FAkBA,IAAMA,EAAN,cAAgCC,CAAgC,CAE9D,CAAQ,YAAYC,EAA8B,CAChD,MAAOA,EAAI,cAAc,CAC3B,CAEA,CAAQ,iBAAiBC,EAAwC,CAC/D,MAAMA,CACR,CAEA,CAAQ,aAAaC,EAAgC,CACnD,MAAMA,CACR,CAEA,CAAQ,mBAAmBC,EAA4C,CACrE,MAAMA,CACR,CAEA,CAAQ,kBAAkBC,EAA0C,CAEhE,MAAMA,CAEV,CAEA,CAAQ,cAAcC,EAAmC,CAEzD,CAEA,CAAQ,gBAAgBC,EAAuC,CAE/D,CAEA,CAAQ,oBAAoBC,EAA2C,CAEvE,CACF,EAEMC,EAAoBC,EAAsBX,CAAiB,EAE1D,SAASY,EAAUV,EAAe,CACvC,OAAO,IAAIW,EAAIH,EAAkBR,CAAG,CAAC,EAAE,qBAAqB,CAC1D,OAAQ,CACN,sBAAuB,oBACzB,EACA,8BAA+BY,EAAU,6BAC3C,CAAC,CACH",
  "names": ["RemoveAnnotations", "TraversalUp", "alg", "grouping", "move", "commutator", "conjugate", "_pause", "_newline", "_comment", "removeAnnotations", "functionFromTraversal", "normalize", "Alg", "cube3x3x3"]
}
